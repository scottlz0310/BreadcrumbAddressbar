# 変更履歴

このプロジェクトの注目すべき変更はすべてこのファイルに記録されます。

フォーマットは [Keep a Changelog](https://keepachangelog.com/en/1.0.0/) に基づいており、
このプロジェクトは [セマンティックバージョニング](https://semver.org/spec/v2.0.0.html) に準拠しています。

## [0.2.6] - 2025-08-12

### 追加
- **AIアシスタント統合**: Kiro AIアシスタント用ステアリング文書
  - 製品概要用の `.kiro/steering/product.md` を追加
  - 技術スタック情報用の `.kiro/steering/tech.md` を追加
  - プロジェクト構成用の `.kiro/steering/structure.md` を追加
- **後方互換性**: 複数のqt-theme-managerバージョンサポート
  - qt-theme-manager 1.0.0以上から0.2.x系への自動フォールバック
  - 異なる環境での完全な機能維持
  - 様々なPythonバージョンでのCI/CD互換性
- **ドキュメント日本語化**: 全ドキュメントの日本語統一
  - README.md、USAGE.md、ステアリング文書を完全日本語化
  - 日本語ユーザーにとってより理解しやすい内容に改善

### 変更
- **qt-theme-manager統合**: 新旧両方のAPIサポート
  - qt-theme-manager 1.0.0以上の主要サポート（`qt_theme_manager`インポート）
  - qt-theme-manager 0.2.x系のフォールバックサポート（`theme_manager`インポート）
  - 自動バージョン検出と適切なAPI使用
- **コード品質**: 包括的なコード品質改善
  - 全ファイルへのBlackフォーマット適用
  - isortによるインポート順序修正
  - 全品質チェック合格（Black、isort、flake8、mypy、bandit）
  - 36テスト合格で86%テストカバレッジ維持

### 修正
- **CI/CDパイプライン**: GitHub Actionsビルド失敗の解決
  - qt-theme-managerバージョン互換性問題を修正
  - 全環境でのPython 3.8以上互換性確保
  - CIでの依存関係解決問題を解決
- **開発環境**: 開発セットアップの改善
  - 編集可能インストールでのパッケージインストール問題を修正
  - インストール版と開発版間のインポート競合を解決
  - デバッグとログ機能を強化

### セキュリティ
- **依存関係管理**: セキュリティ体制の改善
  - より良い互換性のための依存関係要件更新
  - banditチェックによるセキュリティベストプラクティス維持
  - セキュリティ脆弱性は検出されず

## [0.2.5] - 2025-08-09

### 追加
- `tests/` に以下を追加しカバレッジを向上（合計86%）
  - `test_core.py`、`test_widgets.py`、`test_logger_setup.py`、`test_themes.py`

### 変更
- Black/flake8/isort/mypyの設定に完全準拠するようテストを調整
- `logger_setup.py` ラッパーログ関数のテスト追加で100%カバレッジ達成
- `widgets.py` のキーイベント分岐・サイズヒントをテストでカバーし100%カバレッジ達成
- ポップアップ方式を`QToolButton + QMenu`に更新（WSLg環境での自動消去安定化）
- `FolderSelectionPopup`に`populateForPath`と`exec_`エイリアスを追加
- `BreadcrumbItem`を`QToolButton`ベースに変更

### 修正
- CIでのBlack/isortのチェック不一致を解消（line-length=79に統一、import順修正）
- isort/flake8の指摘（E501/W391など）を解消
- テスト安定化と軽微な不具合修正

## [0.2.3] - 2025-08-04

### 追加
- **コード品質ガイドライン**: 包括的なコード品質ガイドラインの追加
  - `docs/CODE_QUALITY.md`の作成
  - コーディング規約、ベストプラクティス、トラブルシューティングを含む
- **セキュリティツール**: セキュリティチェックツールの統合
  - banditによるセキュリティ脆弱性チェック
  - safetyによる依存関係の脆弱性チェック
- **CI/CD強化**: CI/CDパイプラインの強化
  - セキュリティチェックの追加
  - カバレッジレポートの生成
  - 品質ゲートの追加

### 変更
- **CI/CDパイプライン**: GitHub Actionsワークフローの改善
  - テスト実行にカバレッジレポートを追加
  - セキュリティチェック（bandit、safety）を追加
  - パッケージ検証（twine check）を追加
  - 品質ゲートジョブの追加

### 修正
- **コード品質**: コード品質の問題を修正
  - flake8エラー（行長超過）を修正
  - セキュリティ警告（ハードコーディングされたパス）を修正
  - 末尾の空白文字を削除
- **セキュリティ**: セキュリティベストプラクティスの適用
  - `/tmp`ディレクトリのハードコーディング問題を修正
  - `os.path.join()`を使用した安全なパス構築に変更

## [0.2.2] - 2025-08-03

### 追加
- **包括的デモ**: 包括的なデモスクリプトの作成
  - `comprehensive_demo.py`で全機能を統合
  - タブ形式のUIで基本機能、テーマ管理、高度な機能を分類
  - 動的カスタマイズ機能の統合
  - ログ表示機能の追加
- **サンプルパッケージ**: デモスクリプトのパッケージ化
  - `examples`ディレクトリを`breadcrumb_addressbar`パッケージ内に移動
  - pipインストール後でもデモスクリプトが実行可能に
  - `python -m breadcrumb_addressbar.examples.comprehensive_demo`で実行可能
- **パッケージ構造**: パッケージ構造の改善
  - `breadcrumb_addressbar/examples/__init__.py`を追加
  - モジュールとして正しく認識されるように設定

### 変更
- **デモ統合**: デモスクリプトの統合
  - `basic_example.py`、`qt_theme_demo.py`、`phase2_example.py`を統合
  - WSL2問題のある`dropdown_test.py`、`dropdown_test_fix.py`を削除
  - 単一の包括的デモで全機能を紹介

### 修正
- **モジュールインポート**: デモスクリプトのモジュールインポート問題を解決
  - `ModuleNotFoundError: No module named 'breadcrumb_addressbar.examples'`を修正
  - パッケージ構造の統一化

## [0.2.1] - 2025-08-01

### 追加
- **CI/CDパイプライン**: 完全なCI/CDパイプラインの構築
  - GitHub Actionsによる自動テスト・リント・ビルド
  - 複数Pythonバージョン（3.8-3.12）でのテスト実行
  - 自動PyPI公開機能
  - GitHub Release自動生成
- **コード品質ツール**: コード品質向上ツールの統合
  - Black（コードフォーマット）
  - isort（import整理）
  - flake8（リント）
  - mypy（型チェック）
- **リリース自動化**: リリース自動化スクリプト
  - `scripts/release.py`による自動リリースプロセス
  - バージョン管理の自動化
  - CHANGELOG.mdの自動更新

### 変更
- **プロジェクト設定**: プロジェクト設定の統一
  - `pyproject.toml`での一元管理
  - 79文字行長での統一フォーマット
  - 開発依存関係の整理
- **CIワークフロー**: CIワークフローの改善
  - テストとlintingの分離
  - 効率的な並列実行
  - 適切な権限設定

### 修正
- **CI問題**: CI/CDパイプラインの問題を解決
  - mypyの設定とPySide6型スタブの問題を解決
  - GitHub Actionsの権限設定を修正
  - リリースワークフローの安定化
- **コードフォーマット**: コードフォーマットの統一
  - 行の長さを79文字に統一
  - import文の整理
  - 一貫したコーディングスタイル

## [0.2.0] - 2025-07-29

### 追加
- **フェーズ2機能**: フォルダ選択ポップアップ機能
  - 最下層ボタンクリックでサブフォルダ一覧表示
  - `FolderSelectionPopup`クラスの実装
  - フォルダ選択時のシグナル発火
- **テーマ統合**: `qt-theme-manager`との統合
  - 動的テーマ切り替え対応
  - ボタンスタイルの自動更新
  - セパレーター色のテーマ追従
- **UI強化**: 改善されたユーザーインターフェース
  - ボタンサイズの動的変更
  - フォントサイズの動的変更
  - セパレーター文字の動的変更
- **デバッグサポート**: デバッグ機能の強化
  - 詳細なログ出力
  - テーマ変更時のデバッグ情報
  - ポップアップ表示時のデバッグ情報

### 変更
- **テーマシステム**: 内部テーマ管理から`qt-theme-manager`統合に変更
- **シグナル強化**: `BreadcrumbItem`のシグナルを拡張（`clicked_with_info`）
- **API更新**: テーマ関連のAPIを`qt-theme-manager`に合わせて更新

### 修正
- **ポップアップ表示**: `QMenu.popup`メソッドの引数エラーを修正
- **テーマ更新**: テーマ変更時のボタン色更新問題を解決
- **インポート問題**: `QAction`のインポートエラーを修正

## [0.1.0] - 2025-07-29

### 追加
- **フェーズ1機能**: 基本的なパンくずリスト機能
  - 階層ナビゲーション表示
  - クリックナビゲーション
  - 省略表示機能
  - 基本スタイリング
- **コアコンポーネント**: 主要コンポーネントの実装
  - `BreadcrumbAddressBar`: メインウィジェット
  - `BreadcrumbItem`: 個別ボタンコンポーネント
  - `ThemeManager`: テーマ管理システム
- **プロジェクト構造**: プロジェクト基盤の構築
  - 標準的なPythonライブラリ構造
  - テスト環境の構築
  - ドキュメントの整備